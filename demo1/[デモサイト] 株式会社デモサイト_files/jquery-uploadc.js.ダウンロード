!function(t){function e(e){return t.map(n(e),function(t){return'<input type="hidden" name="'+t.name+'" value="'+t.value+'"/>'}).join("")}function n(e){function n(t,e){i.push({name:t,value:e})}if(t.isArray(e))return e;var i=[];return"object"==typeof e?t.each(e,function(e){t.isArray(this)?t.each(this,function(){n(e,this)}):n(e,t.isFunction(this)?this():this)}):"string"==typeof e&&t.each(e.split("&"),function(){var e=t.map(this.split("="),function(t){return decodeURIComponent(t.replace(/\+/g," "))});n(e[0],e[1])}),i}var i=0;t.fn.upload=function(n,o,r,a){var u,c,p,s=this,h="jquery_upload"+ ++i,f=t('<iframe id="'+h+'" name="'+h+'" style="position:absolute;top:-9999px" />').appendTo("body"),l='<form target="'+h+'" method="post" enctype="multipart/form-data" />';return t.isFunction(o)&&(a=r,r=o,o={}),c=t("input:checkbox",this),p=t("input:checked",this),l=s.wrapAll(l).parent("form").attr("action",n),c.removeAttr("checked"),p.attr("checked",!0),u=e(o),u=u?t(u).appendTo(l):null,l.submit(function(e){f.load(function(){var e="",n=t("input:checked",s);l.after(s).remove(),c.removeAttr("checked"),n.attr("checked",!0),u&&u.remove(),setTimeout(function(){f.remove(),"script"===a&&t.globalEval(e),r&&r.call(s,e)},0)})}).submit(),this}}(jQueryPlus);